box: wercker/python

build:
  steps:
    - pip-install:
        requirements_file: ""
        packages_list: "requests"

    - script: 
        name: make fused
        code: make -C tools/fused

    - script:
        name: setup
        code: |
          export PYTHONDONTWRITEBYTECODE=1
          export IUWANDBOX_COMMANDLINE_OPTION="../../test/syntax_tests.cpp -f"-DIUTEST_USE_MAIN=1" -f"-D__WANDBOX__=1" --encoding utf-8-sig --expand_include"

    - script:
        name: gcc-head
        code: |
          cd tools/wandbox
          python ./iuwandbox.py ${IUWANDBOX_COMMANDLINE_OPTION} -c gcc-head -x "warning,c++1z"

    - script:
        name: gcc-head-98
        code: |
          cd tools/wandbox
          python ./iuwandbox.py ${IUWANDBOX_COMMANDLINE_OPTION} -c gcc-head -x "warning,c++98"

    - script:
        name: clang-head
        code: |
          cd tools/wandbox
          python ./iuwandbox.py ${IUWANDBOX_COMMANDLINE_OPTION} -c clang-head -x "warning,c++1z"

    - script:
        name: clang-head-98
        code: |
          cd tools/wandbox
          python ./iuwandbox.py ${IUWANDBOX_COMMANDLINE_OPTION} -c clang-head -x "warning,c++98"

    - script:
        name: gcc-4.9.2
        code: |
          cd tools/wandbox
          python ./iuwandbox.py ${IUWANDBOX_COMMANDLINE_OPTION} -c gcc-4.9.2 -x "warning,gnu++1y"

    - script:
        name: gcc-4.9.1
        code: |
          cd tools/wandbox
          python ./iuwandbox.py ${IUWANDBOX_COMMANDLINE_OPTION} -c gcc-4.9.1 -x "warning,c++1y"

    - script:
        name: gcc-4.9.0
        code: |
          cd tools/wandbox
          python ./iuwandbox.py ${IUWANDBOX_COMMANDLINE_OPTION} -c gcc-4.9.0 -x "warning,c++11"

    - script:
        name: gcc-4.8.2
        code: |
          cd tools/wandbox
          python ./iuwandbox.py ${IUWANDBOX_COMMANDLINE_OPTION} -c gcc-4.8.2 -x "warning,gnu++11"

    - script:
        name: gcc-4.4.7
        code: |
          cd tools/wandbox
          python ./iuwandbox.py ${IUWANDBOX_COMMANDLINE_OPTION} -c gcc-4.4.7 -x "warning,gnu++0x"

    - script:
        name: clang-3.6
        code: |
          cd tools/wandbox
          python ./iuwandbox.py ${IUWANDBOX_COMMANDLINE_OPTION} -c clang-3.6 -x "warning,gnu++14"

    - script:
        name: clang-3.3
        code: |
          cd tools/wandbox
          python ./iuwandbox.py ${IUWANDBOX_COMMANDLINE_OPTION} -c clang-3.3 -x "warning,gnu++1y"

    - script:
        name: clang-3.2
        code: |
          cd tools/wandbox
          python ./iuwandbox.py ${IUWANDBOX_COMMANDLINE_OPTION} -c clang-3.2 -x "warning,c++11,boost-1.4.7"

    - script:
        name: clang-3.1
        code: |
          cd tools/wandbox
          python ./iuwandbox.py ${IUWANDBOX_COMMANDLINE_OPTION} -c clang-3.1 -x "warning,gnu++11"

    - script:
        name: clang-3.1-98
        code: |
          cd tools/wandbox
          python ./iuwandbox.py ${IUWANDBOX_COMMANDLINE_OPTION} -c clang-3.1 -x "warning,c++98"
